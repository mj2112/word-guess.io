<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>WordGuess</title>
</head>

<body>

  <div>
    <h3 id="directions-text">Word Guess: (try to guess the missing letters)</h3>
    <h2 id="answer-array-text"></h2>
    <p id="wins-text"></p>
    <p id="losses-text"></p>
    <p id="guesses-left"></p>
    <p id="guesses-SoFar"></p>
  </div>

  <script type="text/javascript">
 

var words = ["javascript","monkey","amazing","pancake"]; //sample array of words for testing game
    

    // Creating initial gloabal variables to hold the number of wins, losses, guesses left, and empty array to show guesses so far.
    var wins = 0;
    var losses = 0;
    var answerArray;
    var remainingLetters;
    var guessesLeft;
    var guessesSoFar;
    var progress;
    var gameStarted = false;
    var playerProgress;
    

    
    // Create variables that hold references to HTML elements to update.
    var directionsText = document.getElementById("directions-text");
    var answerArrayText = document.getElementById("answer-array-text");
    var winsText = document.getElementById("wins-text");
    var lossesText = document.getElementById("losses-text");
    var guessesLeftText = document.getElementById("guesses-left");
    var guessesSoFarText = document.getElementById("guesses-SoFar");

    
  
  
  // sets up game state at start
  
  function initializeGame() {
    gameStarted = true;
    guessesSoFar = [];
    word = words[Math.floor(Math.random() * words.length)];
    answerArray = createAnswerArray(word);
      
      
      remainingLetters = word.length;
      guessesLeft = word.length + 8;
      directionsText.textContent = ""; //removes directions from screen
      answerArrayText.textContent = "Word: " + playerProgress;
      winsText.textContent = "Wins: " + wins;  //display wins
      lossesText.textContent = "Losses: " + losses; //display losses
      guessesLeftText.textContent = "Guesses left: " + guessesLeft; //display guesses left
      guessesSoFarText.textContent = "Your guesses so far: " + guessesSoFar; //displays the wrong guesses so far
      console.log(answerArray);
      return answerArray;
  }
 //create an array  of dashes the length of word
  function createAnswerArray(wordArray) {
  for (var i = 0; i < word.length; i++) {
         
        wordArray[i] = "_";      
      }
      return wordArray;
    }

  //game logic with letter passed in
  function playGame(letter) {
    var guess = letter.toLowerCase();
    console.log(guess);
    playerProgress = answerArray.join(" ");
    console.log(answerArray);
    if (guess.length !==1) {
            alert("Please enter a single letter");
          } else if (remainingLetters > 0 && guessesLeft > 0) { 
            guessesLeft--;
            //update game state
            for (var j = 0; j < word.length; j++) {
            if (word[j] === guess && answerArray[j] === "_") {
              answerArray[j] = guess;
              remainingLetters--;
              answerArrayText.textContent = "Word: " + playerProgress;
              winsText.textContent = "Wins: " + wins;  //display wins
              lossesText.textContent = "Losses: " + losses; //display losses
              guessesLeftText.textContent = "Guesses left: " + guessesLeft; //display guesses left
              guessesSoFarText.textContent = "Your guesses so far: " + guessesSoFar; //displays the wrong guesses so far
              
            } else {
              guessesSoFar.push(guess);
              answerArrayText.textContent = "Word: " + playerProgress;
              winsText.textContent = "Wins: " + wins;  //display wins
              lossesText.textContent = "Losses: " + losses; //display losses
              guessesLeftText.textContent = "Guesses left: " + guessesLeft; //display guesses left
              guessesSoFarText.textContent = "Your guesses so far: " + guessesSoFar; //displays the wrong guesses so far
              
            }
          } 
        }
        if (guessesLeft > 0 && remainingLetters === 0) {
        alert("Good job! The answer was " + word);
        wins++;
        initializeGame();
      } else {
        alert("Too bad! The answer was " + word);
        losses++;
        initializeGame();
      }
    
    }

    document.onkeyup = function (event) {
    if (!gameStarted) {
      directionsText.textContent = "Let's Play Anatomy Word Guess!";
      initializeGame();
      answerArrayText.textContent = "Word: ";
      gameStarted = true;
    } else {
      playGame(event.key);
    } 
  }
    
  </script>

</body>

</html>
